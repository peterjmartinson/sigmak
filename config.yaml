# SigmaK Configuration
# Human-editable defaults for database, embeddings, LLM, and drift detection

database:
  sqlite_path: "database/risk_classifications.db"

chroma:
  persist_directory: "database"
  embedding_model: "all-MiniLM-L6-v2"
  llm_cache_similarity_threshold: 0.8

llm:
  model: "gemini-2.5-flash"
  temperature: 0.0

drift:
  review_cron: "0 3 * * *"
  sample_size: 100
  low_confidence_threshold: 0.6
  drift_threshold: 0.2

severity:
  # Sentiment-weighted severity scoring weights
  # Must sum to 1.0 for proper normalization
  weights:
    sentiment: 0.45       # Negative sentiment increases severity (VADER)
    quant_anchor: 0.35    # Dollar amounts normalized by market cap
    keyword_count: 0.10   # Severe/moderate keyword density
    novelty: 0.10         # YoY drift (vector similarity)
  
  # Keyword density normalization (per 1K words)
  keyword_divisor: 20
  
  # Database path for market cap lookup
  db_path: "database/sec_filings.db"
  
  # Quantitative anchor thresholds (for log fallback)
  log_min_value: 6.0   # log10($1M)
  log_max_value: 12.0  # log10($1T)

report_generation:
  # Minimum thresholds for including risks in YOY reports
  # Risks must meet at least one threshold to be included
  min_severity_threshold: 0.3   # Minimum severity score (0.0-1.0)
  min_novelty_threshold: 0.4    # Minimum novelty score (0.0-1.0)

logging:
  level: "INFO"
